var BOLDGRID=BOLDGRID||{};BOLDGRID.COLOR_PALETTE=BOLDGRID.COLOR_PALETTE||{},BOLDGRID.COLOR_PALETTE.Generate=BOLDGRID.COLOR_PALETTE.Generate||{},function(e){"use strict";var t=BOLDGRID.COLOR_PALETTE.Generate,n={};t.palette_collection=BOLDGRIDColorPalettes.palettes;var a=["fiveToneAScheme","fiveToneBScheme","fiveToneCScheme","fiveToneDScheme","fiveToneEScheme","neutralScheme","neutralScheme","neutralScheme","analogousScheme","analogousScheme","analogousScheme"],r=["monochromatic","intesity_and_hue","complementaryScheme","splitComplementaryScheme","splitComplementaryCWScheme","triadicScheme","tetradicScheme"],o=["compliment","blend","copy"],i=["saturateByAmount","lightenByAmount","shiftHue"],l=["#FFFFF2","#FBF5E6","#FFFFFF","#F6F9ED","#FDFDF0","#EBECE4","#ECF1EF","#FFFFFE","#FCF6CF","#FEFFEF","#FFFFFD","#FFFFF3","#FEF1E9","#FEF6E4","#EEF3E2","#292929","#4d4d4d","#1a1a1a"];t.cssVariables=function(n){var a="",r={};return e.each(n.colors,function(e,t){r["color-"+(e+1)]=t}),r["color-neutral"]=n["neutral-color"],e.each(r,function(e,n){a+=`--${e}: ${n};`,a+=`--${e}-raw: `+n.replace("rgb(","").replace(")","")+";",a+=`--${e}-light:`+net.brehaut.Color(n).lightenByAmount(.1).toCSS()+";",a+=t.generateHoverVars(r,e,n)}),a},t.generateHoverVars=function(n,a,r){var o=a.replace("color-",""),i="";return e.each(n,function(e,n){var a=e.replace("color-",""),l=t.getHoverColor(net.brehaut.Color(n),net.brehaut.Color(r));i+=`--bg-${a}-text-${o}-hover: ${l};`}),i},t.getHoverColor=function(e,t){var n,a=t.getLightness(),r=e.getLightness();return n=(n=1===a?.9<=r?e.darkenByAmount(.15):e.blend(t,.8):0===a?.1>r?e.lightenByAmount(.2):e.blend(t,.6):r<a?.9<a?t.darkenByAmount(.2):t.lightenByAmount(.2):.15>a?t.lightenByAmount(.2):t.darkenByAmount(.2)).toRGB(),"rgb("+Math.floor(255*n.red)+","+Math.floor(255*n.green)+","+Math.floor(255*n.blue)+")"},t.get_random_color=function(){for(var e="0123456789ABCDEF".split(""),t="#",n=0;n<6;n++)t+=e[Math.floor(16*Math.random())];return t},t.randomArrayElement=function(e){return e[Math.floor(Math.random()*e.length)]},t.generateNeutralColor=function(e){var n,a=null;return Math.random()>.5?(n=t.randomArrayElement(e),a=net.brehaut.Color(n).setLightness(.9).toCSS()):a=t.randomArrayElement(l),a},t.colorDiff=function(e,t){e=net.brehaut.Color(e).toHSL(),t=net.brehaut.Color(t).toHSL();var n=e.hue-t.hue,a=e.saturation-t.saturation,r=e.lightness-t.lightness;return{hue:n,saturationDiff:a,lightnessDiff:r,totalPercentageDiff:Math.abs(n)/360+Math.abs(a)+Math.abs(r)}},t.findMatches=function(t){var n={};return e.each(t,function(a,r){e.each(t,function(e,t){t===r&&e!==a&&(n[t]||(n[t]=[]),-1===n[t].indexOf(a)&&n[t].push(a),-1===n[t].indexOf(e)&&n[t].push(e))})}),n},t.arrayMove=function(e,t,n){if(t>=e.length)for(var a=t-e.length;1+a--;)e.push(void 0);return e.splice(t,0,e.splice(n,1)[0]),e},t.findRelations=function(n){var a,r=[];return a=t.findMatches(n),!1===e.isEmptyObject(a)&&e.each(a,function(){r.push({type:"match",values:this})}),r},t.determineRelations=function(n){var a={},r=[],o=t.findRelations(n.samplePalette);return e.each(o,function(){var t=!0;e.each(this.values,function(){if(n.partialPalette[this])return t=!1,!1}),t&&r.push(this)}),r.length?a={type:"samplePalette",relationsData:r}:e.each(n.additionalSamplePalattes,function(){if((r=t.findRelations(this)).length)return a={type:"additionalSamplePalattes",relationsData:r},!1}),a},t.applyRelationships=function(t,n,a){var r=t.slice(0);return e.each(n.relationsData,function(){var t=!1;"match"===this.type&&(e.each(this.values,function(){-1!==a.indexOf(this)&&(t=this)}),!1===t&&(t=this.values[Math.floor(Math.random()*this.values.length)]),e.each(this.values,function(){r[this]=r[t]}))}),r},t.findLockedIndexes=function(t){var n=[];return e.each(t,function(e){this&&n.push(e)}),n},t.determineRelationalCount=function(e,t){var n;return n=2/3,"additionalSamplePalattes"===e&&(n=1/3),Math.floor(t*n)},t.findPalettesByColor=function(n){var a,r,o=[];return r=function(){return t.palette_collection[this.paletteIndex].slice(0)},e.each(t.palette_collection,function(a){e.each(this,function(e){var i=t.colorDiff(this,n);if(!(i.hue>16)){var l={paletteIndex:a,colorIndex:e,distance:i,getPalette:r};o.push(l)}})}),a=function(e,t){return Math.abs(e.distance.totalPercentageDiff)>Math.abs(t.distance.totalPercentageDiff)?1:Math.abs(e.distance.totalPercentageDiff)<Math.abs(t.distance.totalPercentageDiff)?-1:0},o.sort(a),o},t.generate_palette_collection=function(e,n){n||(n=5);for(var a=t.determineRelations(e),r=t.findLockedIndexes(e.partialPalette),o=t.determineRelationalCount(a.type,n),i=[],l=0;l<n;l++){var h=t.generate_palette(e);if("object"==typeof h&&h.length)("samplePalette"===a.type&&l<o||"additionalSamplePalattes"===a.type&&l>=n-o)&&(h=t.applyRelationships(h,a,r)),h=t.fixLockedIndex(h,e.partialPalette),i.push(h)}return i},t.fixLockedIndex=function(t,n){return e.each(n,function(e){this&&(t[e]=this)}),t},t.generate_palette=function(o){var i=[],l=t.partial_palette_into_colors_palette(o.partialPalette);if(t.is_palette_empty(l.palette))i=t.get_palette_from_static_list(l.palette);else if(l.generateKeys.length>1){var h=t.generate_palette_from_partial(l.palette);i=t.randomize_palette(h,l.unchangedKeys)}else{var u=l.palette[l.generateKeys[0]];if(u.toCSS()!==n.color&&(n.color=u.toCSS(),n.palettes=t.findPalettesByColor(n.color),n.paletteCounter=0),n.palettes[n.paletteCounter])i=n.palettes[n.paletteCounter].getPalette(),i=t.arrayMove(i,l.generateKeys[0],this.colorIndex),i=t.truncate_generated_palette(i,l.palette),n.paletteCounter++;else{var s=Math.floor(3*Math.random())+1;if(1===s){var c=r[Math.floor(Math.random()*r.length)];i=t.color_palettes[c](u)}else if(2===s){i=u[a[Math.floor(Math.random()*a.length)]]()}else{var f=t.random_array(4,5);f.unshift(0),i=u.schemeFromDegrees(f)}i=t.randomize_palette(i,[0]),i=t.format_palette_to_unchanged(i,l.generateKeys[0]),i=t.truncate_generated_palette(i,l.palette)}}var p=i.slice(0);return e.each(l.unchangedKeys,function(){p[this]=o.partialPalette[this]}),p},t.truncate_generated_palette=function(e,t){for(var n=[],a=0;a<t.length;a++)n.push(e[a]);return n},t.format_palette_to_unchanged=function(t,n){var a=t[0],r={};return r[n]=a,r[0]=t[n],e.each(t,function(e){0!==e&&e!==n&&(r[e]=this)}),r=e.map(r,function(e,t){return[e]})},t.partial_palette_into_colors_palette=function(t){var n=[],a=[],r=[];return e.each(t,function(e){if(this){var t=net.brehaut.Color(this);t.getLightness()<.9&&t.getLightness()>.1&&t.getSaturation()>.15?(n.push(t),r.push(e)):n.push(null),a.push(e)}else n.push(null)}),{palette:n,unchangedKeys:a,generateKeys:r}},t.get_palette_from_static_list=function(n){var a=[];return e.each([1,2],function(){var e=t.palette_collection[Math.floor(Math.random()*t.palette_collection.length)];if(e.length>=n.length)if(e.length>n.length)for(var r=0;r<n.length;r++)a.push(e[r]);else e.length===n.length&&(a=e);if(a.length)return!1}),a},t.is_palette_empty=function(t){var n=!0;return e.each(t,function(){if(this)return n=!1,!1}),n},t.get_grey=function(){return net.brehaut.Color("#FFFFFF").setBlue(0).setRed(0).setGreen(0).setLightness(Math.random()).toCSS()},t.color_array_to_css=function(t){var n=[];return e.each(t,function(e){e<5&&n.push(this.toCSS())}),n},t.generate_palette_from_partial=function(t){var n=[];e.each(t,function(e,t){t&&n.push(t)});var a=[];return e.each(t,function(e,t){if(t)a.push(t);else{var r,i=o[Math.floor(Math.random()*o.length)],l=n[Math.floor(Math.random()*n.length)],h=n[Math.floor(Math.random()*n.length)];r="compliment"===i?l.shiftHue(180):"blend"===i?l.blend(h,.5):l,a.push(r)}}),a},t.randomize_palette=function(t,n){var a=[];return e.each(t,function(e){if(e>=5)return!1;if(-1===n.indexOf(e))for(var t=this,r=0;r<2;r++){var o,l=i[Math.floor(Math.random()*i.length)];o="shiftHue"===l?Math.floor(45*Math.random())+1-23:(Math.floor(20*Math.random())+1)/100,t=t[l](o),1===r&&a.push(t.toCSS())}else a.push(this.toCSS())}),a},t.random_array=function(e,t){for(var n=[],a=45*t,r=0;r<e;r++)n.push(Math.floor(Math.random()*a)+1-a/2);return n},t.color_palettes={monochromatic:function(e){var t=[];return t.push(e),t.push(e.lightenByAmount(.3)),t.push(e.darkenByAmount(.1)),t.push(e.saturateByAmount(.5)),t.push(e.lightenByAmount(.2)),t},intesity_and_hue:function(e){var t=[];return t.push(e),t.push(e.shiftHue(20).lightenByAmount(.15)),t.push(e.shiftHue(-20).darkenByAmount(.2)),t.push(e.shiftHue(-33).darkenByAmount(.25)),t.push(e.shiftHue(10).lightenByAmount(.05)),t},complementaryScheme:function(e){var t=[];return t.push(e),t.push(e.shiftHue(180)),t.push(e.shiftHue(180).lightenByAmount(.25)),t.push(e.darkenByAmount(.25)),t.push(e.lightenByAmount(.25)),t},splitComplementaryScheme:function(e){var t=[];return t.push(e),t.push(e.shiftHue(150)),t.push(e.shiftHue(320)),t.push(e.shiftHue(320).darkenByAmount(.25)),t.push(e.lightenByAmount(.25)),t},splitComplementaryCWScheme:function(e){var t=[];return t.push(e),t.push(e.shiftHue(60)),t.push(e.shiftHue(210)),t.push(e.darkenByAmount(.1)),t.push(e.shiftHue(60).darkenByAmount(.15)),t},triadicScheme:function(e){var t=[];return t.push(e),t.push(e.shiftHue(60)),t.push(e.shiftHue(240)),t.push(e.shiftHue(60).lightenByAmount(.2)),t.push(e.lightenByAmount(.15)),t},tetradicScheme:function(e){var t=[];return t.push(e),t.push(e.shiftHue(90)),t.push(e.shiftHue(180)),t.push(e.shiftHue(270)),t.push(e.saturateByAmount(-.25)),t}}}(jQuery);