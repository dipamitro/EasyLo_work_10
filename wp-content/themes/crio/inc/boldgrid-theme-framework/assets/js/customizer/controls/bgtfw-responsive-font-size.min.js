const api=wp.customize;export default()=>{function e(e,i,n){var t=e.attr("data-device"),r=api(n)();r=function(e){try{JSON.parse(e)}catch(e){return!1}return!0}(r)?JSON.parse(r):{},i&&t&&(r[t]=i,api(n)(JSON.stringify(r)))}api.bind("ready",()=>{api.control.each(function(i){var n=i.id,t=i.section(),r=i.container,o=r.find(".devices-wrapper label"),p=r.find(".font-size-input");"bgtfw-responsive-typography"===i.params.type&&(o.on("click",e=>{var i=$(e.currentTarget),t=i.siblings("input").val();!function(e,i,n,t){e.find("p.font-size-input").hide(),e.find(".devices-wrapper input").prop("ckecked",!1),e.find("#"+t+"-font-size-"+n).parent().show(),i.siblings("input").prop("checked",!0),"phone"===n?e.closest("body").find("button.preview-mobile").not(".active").trigger("click"):e.closest("body").find("button.preview-"+n).not(".active").trigger("click")}(r,i,t,n)}),api.section(t).expanded.bind(()=>{!function(e){var i=e,n=i.find(".devices-wrapper input:checked").val(),t=i.find(".devices-wrapper input:checked").parents(".boldgrid-responsive-font-size-wrapper"),r=e.prev();r.css({"margin-bottom":0,"border-bottom":0}),r.children("label").css("border-bottom",0),r.children("wrapper").css("border-bottom",0),t.find("p.font-size-input").hide(),t.find("p.font-size-input."+n).show()}(r)}),p.each(function(){var i=$(this),t=_.debounce(()=>{e(i,$(this).val(),n)},1e3);i.on("input",t)}))})})};